spring.application.name=lab1
server.port=15378

#spring.datasource.url=jdbc:postgresql://localhost:5432/studs?currentSchema=s367143
#
#spring.datasource.username=s367143
#spring.datasource.password=3UAg6OGym7gQFGEp
spring.datasource.url=jdbc:postgresql://${DB_HOST:db-postgres}:5432/dragons

spring.datasource.username=${DB_USER:admin}
spring.datasource.password=${DB_PASSWORD:admin}

spring.datasource.driver-class-name=org.postgresql.Driver

spring.jpa.database=postgresql
spring.jpa.show-sql=true

spring.jpa.defer-datasource-initialization=true
spring.jpa.hibernate.ddl-auto=update
spring.jpa.properties.hibernate.cache.use_second_level_cache=true
spring.jpa.properties.hibernate.cache.use_query_cache=true
spring.jpa.properties.hibernate.cache.region.factory_class=org.infinispan.hibernate.cache.v66.InfinispanRegionFactory
spring.jpa.properties.hibernate.cache.infinispan.cfg=classpath:infinispan.xml
spring.jpa.properties.hibernate.cache.infinispan.cachemanager=hibernate
spring.jpa.properties.hibernate.cache.default_cache_concurrency_strategy=read-write
spring.jpa.properties.hibernate.cache.infinispan.statistics=true
spring.jpa.properties.hibernate.generate_statistics=true
spring.jpa.properties.jakarta.persistence.sharedCache.mode=ALL

#app.storage.endpoint=${MINIO_ENDPOINT:http://localhost:9000}
app.storage.endpoint=${MINIO_ENDPOINT:http://minio:9000}
app.storage.access-key=${MINIO_ACCESS_KEY:minioadmin}
app.storage.secret-key=${MINIO_SECRET_KEY:minioadmin}
app.storage.bucket=${MINIO_BUCKET:imports}

token.signing.key=53A73E5F1C4E0A2D3B5F2D784E6A1B423D6F247D1F6E5C3A596D635A75327855

logging.level.ru.itmo.is.lab1=INFO

spring.datasource.hikari.pool-name=lab1-pool
spring.datasource.hikari.maximum-pool-size=16
spring.datasource.hikari.minimum-idle=4
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.idle-timeout=600000
spring.datasource.hikari.max-lifetime=1800000
spring.datasource.hikari.validation-timeout=5000
spring.datasource.hikari.leak-detection-threshold=20000
spring.datasource.hikari.auto-commit=true

app.cache.stats.enabled=true
